<div class="product-grid">
  {% assign product_1 = section.settings.product_1 %}
  {% assign product_2 = section.settings.product_2 %}
  {% assign product_3 = section.settings.product_3 %}
  {% assign product_4 = section.settings.product_4 %}
  {% assign product_5 = section.settings.product_5 %}
  {% assign product_6 = section.settings.product_6 %}

  <div class="product-grid-container">
    {% if product_1 %}
      <div class="product-block">
        <div class="product-image" style="background-image: url('https://cdn.shopify.com/s/files/1/0728/7252/6061/files/black-bag-over-the-shoulder_925x_4cae5708-5e9e-4e7e-96ec-9649f0c20cd8.jpg?v=1733769219');">
          <button class="open-popup-btn" data-product-id="{{ product_1.id }}" onclick= "openPopup('https://cdn.shopify.com/s/files/1/0728/7252/6061/files/black-bag-over-the-shoulder_925x_4cae5708-5e9e-4e7e-96ec-9649f0c20cd8.jpg?v=1733769219', 'Bag', 'This is a detailed description of the product.', 29.99)">+</button>
        </div>
      </div>
      <!-- Hidden Product Details -->
        <div class="product-details" id="product_1_details" style="display: none;">
          <h2>Orange Wide Leg</h2>
          <p>dsnfksdnfcjdkskc</p>
          <p>$33</p>
        </div>
    {% endif %}

    {% if product_2 %}
      <div class="product-block">
        <div class="product-image" style="background-image: url('https://cdn.shopify.com/s/files/1/0728/7252/6061/files/man-adjusts-blue-tuxedo-bowtie_925x_55a49e12-d54b-488e-b7a0-ea4c201eb01f.jpg?v=1733769202');">
          <button class="open-popup-btn" data-product-id="{{ product_2.id }}">+</button>
        </div>
       
      </div>
    {% endif %}

    {% if product_3 %}
      <div class="product-block">
        <div class="product-image" style="background-image: url('https://cdn.shopify.com/s/files/1/0728/7252/6061/files/red-plaid-shirt_925x_70e9e5a8-8fc5-4d60-9a9a-cc2e0dd57cc9.jpg?v=1733769209');">
          <button class="open-popup-btn" data-product-id="{{ product_3.id }}">+</button>
        </div>
        
      </div>
    {% endif %}

    {% if product_4 %}
      <div class="product-block">
        <div class="product-image" style="background-image: url('https://cdn.shopify.com/s/files/1/0728/7252/6061/files/leather-jacket-and-tea_925x_2490cde1-7e61-4151-9a65-de8a763bc701.jpg?v=1733769229');">
          <button class="open-popup-btn" data-product-id="{{ product_4.id }}">+</button>
        </div>
        
      </div>
    {% endif %}

    {% if product_5 %}
      <div class="product-block">
        <div class="product-image" style="background-image: url('https://cdn.shopify.com/s/files/1/0728/7252/6061/files/casual-fashion-woman_925x_56b56608-f207-45c1-b677-bb5aa26c1c7a.jpg?v=1733769238');">
          <button class="open-popup-btn" data-product-id="{{ product_5.id }}">+</button>
        </div>
       
      </div>
    {% endif %}

    {% if product_6 %}
      <div class="product-block">
        <div class="product-image" style="background-image: url('https://cdn.shopify.com/s/files/1/0728/7252/6061/files/young-female-models-denim_925x_44c2cf9e-4030-4347-9d4a-f0e4a1479b4a.jpg?v=1733769226');">
          <button class="open-popup-btn" data-product-id="{{ product_6.id }}">+</button>
        </div>
        
      </div>
    {% endif %}
  </div>
</div>

<!-- Popup Modal -->
<div id="product-popup" class="popup-modal" style="display: none;">
  <div class="popup-content">
    <span class="close-popup-btn" onclick="closePopup">&times;</span>

    <!-- Product Details -->
    <div class="popup-product-details">
      <!-- Row 1: Image and Product Info -->
      <div class="product-row">
        <div class="product-image-container">
          <img id="popup-Product-Image" src="" alt="Product Image" width="20px" height="20px">
        </div>
        <div class="product-info-container">
          <h2 id="popup-product-name"></h2>
          <p id="popup-product-description"></p>
          <p id="popup-product-price"></p>
        </div>
      </div>

      <!-- Row 2: Color Selection -->
      <div class="product-row">
        <label for="product-color">Select Color:</label>
        <div id="product-color-options">
          <!-- Color options will be dynamically inserted here -->
        </div>
      </div>

      <!-- Row 3: Size Selection -->
      <div class="product-row">
        <label for="product-size">Select Size:</label>
        <select id="product-size">
          <!-- Size options will be dynamically inserted here -->
        </select>
      </div>

      <!-- Add to Cart Button -->
      <button id="add-to-cart-btn">Add to Cart</button>
    </div>
  </div>
</div>
<script>
   function openPopup(imageUrl, name, description, price) {
            document.getElementById('popup-Product-Image').src = imageUrl;
            document.getElementById('popup-product-name').textContent = name;
            document.getElementById('popup-product-description').textContent = description;
            document.getElementById('popup-product-price').textContent = '$' + price.toFixed(2);
            document.getElementById('product-popup').style.display = 'block';
        }

        // Function to close the popup
        function closePopup() {
            document.getElementById('product-popup').style.display = 'none';
        }
</script>

<style>
  .product-grid {
  width: 100%;
  margin: 0 auto;
}

.product-grid-container {
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* Creates 3 equal columns */
  gap: 20px; /* Adds space between the blocks */
  margin-top: 20px;
}

.product-block {
  position: relative;
}

.product-image {
  width: 100%;
  height: 250px; /* Adjust this as per your requirement */
  background-size: cover;
  background-position: center;
  position: relative;
}

  .open-popup-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  background-color: rgba(0, 0, 0, 0.7);
  color: #fff;
  border: none;
  border-radius: 50%;
  padding: 10px;
  font-size: 20px;
  cursor: pointer;
}

 /* Modal Styling */
.popup-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7); /* Semi-transparent background */
  z-index: 9999;
  display: flex; /* Flexbox to center content */
  justify-content: center; /* Center horizontally */
  align-items: center; /* Center vertically */
}

/* Modal Content Styling */
.popup-content {
  position: relative;
  background-color: #fff;
  padding: 20px;
  max-width: 800px; /* Maximum width of the modal */
  width: 100%; /* Make modal content responsive */
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  overflow-y: auto; /* Allow scroll if content overflows */
}

/* Close Button Styling */
.close-popup-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 30px;
  color: #333;
  background: none;
  border: none;
  cursor: pointer;
}

/* Product Details Section */
.popup-product-details {
  display: flex;
  flex-direction: column;
}

/* Row Layout */
.product-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 20px;
}

.product-image-container {
  width: 40%; /* Adjust to fit image */
}

.product-image-container img {
  width: 100%;
  height: auto;
  border-radius: 8px; /* Optional: rounding corners of the image */
}

.product-info-container {
  width: 55%; /* Adjust to fit the text */
}

.product-info-container h2 {
  margin: 0;
  font-size: 24px;
}

.product-info-container p {
  font-size: 18px;
  color: #333;
}

/* Color & Size Options */
#product-color-options {
  display: flex;
  gap: 10px;
}

#product-color-options input {
  width: 30px;
  height: 30px;
  border: none;
  cursor: pointer;
}

#product-size {
  width: 200px;
  padding: 5px;
  font-size: 16px;
}

/* Add to Cart Button */
#add-to-cart-btn {
  padding: 10px 20px;
  font-size: 18px;
  background-color: #333;
  color: white;
  border: none;
  cursor: pointer;
  margin-top: 20px;
  border-radius: 5px;
}

#add-to-cart-btn:hover {
  background-color: #555;
}
  </style>
{% schema %}
 {
  "name": "Product Liquid",
  "settings": [
    {
      "type": "product",
      "label": "Select Product 1",
      "id": "product_1",
      "info": "Choose the first product for the grid."
    },
    {
      "type": "product",
      "label": "Select Product 2",
      "id": "product_2",
      "info": "Choose the second product for the grid."
    },
    {
      "type": "product",
      "label": "Select Product 3",
      "id": "product_3",
      "info": "Choose the third product for the grid."
    },
    {
      "type": "product",
      "label": "Select Product 4",
      "id": "product_4",
      "info": "Choose the fourth product for the grid."
    },
    {
      "type": "product",
      "label": "Select Product 5",
      "id": "product_5",
      "info": "Choose the fifth product for the grid."
    },
    {
      "type": "product",
      "label": "Select Product 6",
      "id": "product_6",
      "info": "Choose the sixth product for the grid."
    }
  ],
  "presets": [
    {
      "name":"Product Liquid",
    }
  ]
}
{% endschema %}